{
  "comments": [
    {
      "key": {
        "uuid": "67800bf5_c70d3ce9",
        "filename": "src/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 545,
      "author": {
        "id": 5005
      },
      "writtenOn": "2020-01-09T20:35:33Z",
      "side": 1,
      "message": "nit: double blank line",
      "revId": "2bbcdb4f224d0cec7190decb5691f5092a5c29e2",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cd07ccb5_1d5fc227",
        "filename": "src/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 545,
      "author": {
        "id": 6982
      },
      "writtenOn": "2020-01-09T21:14:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "67800bf5_c70d3ce9",
      "revId": "2bbcdb4f224d0cec7190decb5691f5092a5c29e2",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d24f0f74_53e42697",
        "filename": "src/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 553,
      "author": {
        "id": 5005
      },
      "writtenOn": "2020-01-09T20:35:33Z",
      "side": 1,
      "message": "nit: while you\u0027re at it, some more stray tabs here",
      "range": {
        "startLine": 553,
        "startChar": 0,
        "endLine": 553,
        "endChar": 4
      },
      "revId": "2bbcdb4f224d0cec7190decb5691f5092a5c29e2",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "63eba7e7_e35812c4",
        "filename": "src/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 553,
      "author": {
        "id": 6982
      },
      "writtenOn": "2020-01-09T21:14:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d24f0f74_53e42697",
      "range": {
        "startLine": 553,
        "startChar": 0,
        "endLine": 553,
        "endChar": 4
      },
      "revId": "2bbcdb4f224d0cec7190decb5691f5092a5c29e2",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d3a62121_5bf94462",
        "filename": "src/Vulkan/VkDeviceMemory.cpp",
        "patchSetId": 1
      },
      "lineNbr": 141,
      "author": {
        "id": 5045
      },
      "writtenOn": "2020-01-09T20:54:38Z",
      "side": 1,
      "message": "FWIW, the SWIFTSHADER_EXTERNAL_MEMORY_OPAQUE_FD is used because several platforms can implement the same extension (Linux, Android and OSX) though their implementation might be different (e.g. one could implement an OS X based on Mac shared memory regions, which are different from Linux/Android memfd-based ones). Having the macro there avoids repeating platform-specific #if checks in other parts of the code (e.g. libVulkan.cpp).\n\nFor something like VK_ANDROID_xxx extensions, maybe just checking for __ANDROID__ would be enough, since it is unlikely this extension will be implemented on different systems?\n\nI don\u0027t have strong opinions here, but I plan to add support for VK_FUCHSIA_external_memory and to check directly for __Fuchsia__, instead of introducing SWIFTSHADER_EXTERNAL_MEMORY_ZIRCON_EVENT due to this, so let me know what you prefer, and I\u0027ll follow the same convention to keep everything consistent.",
      "revId": "2bbcdb4f224d0cec7190decb5691f5092a5c29e2",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "05a8297e_6176e7c5",
        "filename": "src/Vulkan/VkDeviceMemory.cpp",
        "patchSetId": 1
      },
      "lineNbr": 141,
      "author": {
        "id": 6982
      },
      "writtenOn": "2020-01-09T21:13:02Z",
      "side": 1,
      "message": "I want this to be a build option for now because it\u0027s destabilizing. Maybe I get to drop all of this out eventually.",
      "parentUuid": "d3a62121_5bf94462",
      "revId": "2bbcdb4f224d0cec7190decb5691f5092a5c29e2",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a07af0ed_e117c96e",
        "filename": "src/Vulkan/VkDeviceMemory.cpp",
        "patchSetId": 1
      },
      "lineNbr": 141,
      "author": {
        "id": 6982
      },
      "writtenOn": "2020-01-09T21:31:07Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "05a8297e_6176e7c5",
      "revId": "2bbcdb4f224d0cec7190decb5691f5092a5c29e2",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa86464a_0ad1571a",
        "filename": "src/Vulkan/VkDeviceMemoryExternalAndroid.hpp",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5005
      },
      "writtenOn": "2020-01-09T20:35:33Z",
      "side": 1,
      "message": "note: If I recall correctly we landed digit\u0027s VkDeviceMemoryExternalLinux.hpp without a .cpp out of initial convenience to not deal with conditionally compiling it based on platform, for each of the build files.\n\nI think we can do the same here for now, but I\u0027d like both to eventually get a .cpp counterpart.",
      "revId": "2bbcdb4f224d0cec7190decb5691f5092a5c29e2",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a7c3ff9e_2fb11c9a",
        "filename": "src/Vulkan/VkDeviceMemoryExternalAndroid.hpp",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5045
      },
      "writtenOn": "2020-01-09T20:54:38Z",
      "side": 1,
      "message": "Yes that was exactly the reason. You may need to add the ExternalAndroid.hpp to the BUILD.gn file though.\n\nI recommend changing from headers to source fils in a different CL that would only deal with build config files, if possible.",
      "parentUuid": "fa86464a_0ad1571a",
      "revId": "2bbcdb4f224d0cec7190decb5691f5092a5c29e2",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "897f12d1_7237d0f5",
        "filename": "src/Vulkan/VkDeviceMemoryExternalAndroid.hpp",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 6982
      },
      "writtenOn": "2020-01-09T21:31:07Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "a7c3ff9e_2fb11c9a",
      "revId": "2bbcdb4f224d0cec7190decb5691f5092a5c29e2",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2d3e7028_1ef2cbc9",
        "filename": "src/Vulkan/VkDeviceMemoryExternalAndroid.hpp",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5005
      },
      "writtenOn": "2020-01-14T04:51:55Z",
      "side": 1,
      "message": "b/147618808 for follow up",
      "parentUuid": "897f12d1_7237d0f5",
      "revId": "2bbcdb4f224d0cec7190decb5691f5092a5c29e2",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0316466_aaeed354",
        "filename": "src/Vulkan/VkDeviceMemoryExternalAndroid.hpp",
        "patchSetId": 1
      },
      "lineNbr": 154,
      "author": {
        "id": 5045
      },
      "writtenOn": "2020-01-09T20:54:38Z",
      "side": 1,
      "message": "I think this field should be default-initialized to nullptr",
      "revId": "2bbcdb4f224d0cec7190decb5691f5092a5c29e2",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8515822a_fccc582d",
        "filename": "src/Vulkan/VkDeviceMemoryExternalAndroid.hpp",
        "patchSetId": 1
      },
      "lineNbr": 154,
      "author": {
        "id": 6982
      },
      "writtenOn": "2020-01-09T21:31:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f0316466_aaeed354",
      "revId": "2bbcdb4f224d0cec7190decb5691f5092a5c29e2",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": false
    }
  ]
}