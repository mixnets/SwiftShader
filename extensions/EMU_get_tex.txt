Name

    EMU_get_tex

Name Strings

    GL_EMU_get_tex

Contributors

    Yahan Zhou
    Lingfeng Yang

Contact

    Yahan Zhou (yahan 'at' google.com)
    Lingfeng Yang (lfy 'at' google.com)

Notice

    Copyright Google 2017.

IP Status

    Google Proprietary.

Status

    Complete.

Version

    Last Modified Date: January 19, 2018
    Revision: #2

Number

    // TODO
    OpenGL ES Extension #??

Dependencies

    OpenGL ES 2.0 or higher is required.

Overview

    This extension enables instrumenting the driver for reading OpenGL ES
    texture data.

New Procedures and Functions

    void GetTexImage(GLenum target,
                     GLint level,
                     GLenum format,
                     GLenum type,
                     GLvoid *pixels);

New Tokens

    Accepted by the <target> parameter of GetTexImage

        TEXTURE_2D
        TEXTURE_CUBE_MAP_POSITIVE_X
        TEXTURE_CUBE_MAP_NEGATIVE_X
        TEXTURE_CUBE_MAP_POSITIVE_Y
        TEXTURE_CUBE_MAP_NEGATIVE_Y
        TEXTURE_CUBE_MAP_POSITIVE_Z
        TEXTURE_CUBE_MAP_NEGATIVE_Z

    Accepted by the <format> parameter of GetTexImage

        ALPHA
        LUMINANCE
        LUMINANCE_ALPHA
        RGB
        RGBA

    Accepted by the <type> parameter of GetTexImage

        UNSIGNED_BYTE
        UNSIGNED_SHORT
        UNSIGNED_SHORT_5_6_5
        UNSIGNED_SHORT_5_5_5_1
        UNSIGNED_SHORT_4_4_4_4
        FLOAT


Additions to OpenGL ES 2.0 Specification

    The command

        void GetTexImage(GLenum target,
                         GLint level,
                         GLenum format,
                         GLenum type,
                         GLvoid *pixels);

    returns a texture image into <pixels>. <target> specifies which texture is
    to be obtained. <level> specifies the level-of-detail number of the desired
    image. <format> and <type> specify the format and type of the data to be
    output in <pixels>.

    Format conversion may take place if the sized internal format of the
    texture bound to <target> does not match the <format> and <type>
    parameters.  If the sized internal format of the texture bound to <target>
    is one of the half-float formats:

        ALPHA16F_EXT
        LUMINANCE16F_EXT
        LUMINANCE_ALPHA16F_EXT
        R16F
        RG16F
        RGB16F
        RGBA16F

    and the <type> parameter is GL_FLOAT, <pixels> will hold a version of the
    texture where each pixel has been converted from half precision float to
    single precision float.

Errors

    INVALID_ENUM is generated if <target>, <format>, or <type> is not an
    accepted value.

    INVALID_VALUE is generated if <level> is less than 0.

    INVALID_VALUE may be generated if <level> is greater than log 2‚Å° max,
    where max is the returned value of MAX_TEXTURE_SIZE.

    INVALID_OPERATION is returned if <type> is UNSIGNED_SHORT_5_6_5 and
    <format> is not RGB.

    INVALID_OPERATION is returned if <type> is one of UNSIGNED_SHORT_4_4_4_4,
    UNSIGNED_SHORT_5_5_5_1, and <format> is not GL_RGBA.

New State

    None.

Revision History

    #01     08/30/2017      Yahan Zhou      First draft.
    #02     01/19/2018      Lingfeng Yang   Support for FLOAT, half float conversion
