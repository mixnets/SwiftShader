{
  "comments": [
    {
      "key": {
        "uuid": "641427bb_d20a1d73",
        "filename": "src/Reactor/ExecutableMemory.cpp",
        "patchSetId": 1
      },
      "lineNbr": 312,
      "author": {
        "id": 9669
      },
      "writtenOn": "2020-02-06T20:43:07Z",
      "side": 1,
      "message": "I\u0027ll admit, I\u0027m unclear on what need_exec is for, given that \u0027permissions\u0027 may contain the PERMISSION_EXECUTE flag.",
      "revId": "526342b577d94b28f9850597bdcd97c7e532df7d",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4fc71542_c37b69d1",
        "filename": "src/Reactor/ExecutableMemory.cpp",
        "patchSetId": 1
      },
      "lineNbr": 312,
      "author": {
        "id": 6844
      },
      "writtenOn": "2020-02-06T21:28:12Z",
      "side": 1,
      "message": "need_exec indicates that the memory may need to be marked as executable in the future. permissions specifies that the memory should be mapped as executable. In other words need_exec is a property of the allocation, while permissions is a property of the mapping.  permissions\u003dPERMISSION_EXECUTE is not compatible with need_exec\u003dtrue, but a memory can be allocated with need_exec\u003dtrue and with permissision\u003dR|W. If memory is allocated with need_exec\u003dfalse then protect(EXEC) may fail later (depending on platform).",
      "parentUuid": "641427bb_d20a1d73",
      "revId": "526342b577d94b28f9850597bdcd97c7e532df7d",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f911a6fe_47469cf4",
        "filename": "src/Reactor/ExecutableMemory.cpp",
        "patchSetId": 1
      },
      "lineNbr": 312,
      "author": {
        "id": 9669
      },
      "writtenOn": "2020-02-07T14:52:21Z",
      "side": 1,
      "message": "Ah okay, that makes perfect sense. Basically, on some platforms, there may be a different region of memory that must be used for executable code, so need_exec \u003d true would mean use that memory region.",
      "parentUuid": "4fc71542_c37b69d1",
      "revId": "526342b577d94b28f9850597bdcd97c7e532df7d",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f1351b3b_0c2257d1",
        "filename": "third_party/llvm-7.0/llvm/lib/ExecutionEngine/SectionMemoryManager.cpp",
        "patchSetId": 1
      },
      "lineNbr": 156,
      "author": {
        "id": 9669
      },
      "writtenOn": "2020-02-06T20:43:07Z",
      "side": 1,
      "message": "Looks like this is still the case on latest LLVM (9):\nhttps://cs.corp.google.com/aosp-nougat/external/llvm/lib/ExecutionEngine/SectionMemoryManager.cpp?q\u003dSectionMemoryManager.cpp\u0026g\u003d0\u0026l\u003d144\n\nThis should be upstreamed as well.",
      "revId": "526342b577d94b28f9850597bdcd97c7e532df7d",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    }
  ]
}