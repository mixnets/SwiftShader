{
  "comments": [
    {
      "key": {
        "uuid": "3c17c48e_5e4e4c2b",
        "filename": "src/Vulkan/VkSampler.hpp",
        "patchSetId": 3
      },
      "lineNbr": 58,
      "author": {
        "id": 9669
      },
      "writtenOn": "2020-03-24T13:15:55Z",
      "side": 1,
      "message": "I know that we do a few reinterpret_casts in VkObject.hpp, which might mean that Object needs to be the first parent. Is this true, sugoi@?\n\nIf that\u0027s the case, we could chain these by making SamplerState a CRTP class as well, and doing:\n\nclass Sampler : public SamplerState\u003c Object\u003cSampler, VkSampler\u003e \u003e",
      "revId": "daee1526440ce6452cc45b908acb7647b3521195",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "25269861_7efe8b68",
        "filename": "src/Vulkan/VkSampler.hpp",
        "patchSetId": 3
      },
      "lineNbr": 58,
      "author": {
        "id": 5050
      },
      "writtenOn": "2020-03-24T13:20:38Z",
      "side": 1,
      "message": "You can\u0027t do SamplerState\u003c Object\u003cSampler, VkSampler\u003e \u003e, because that would defeat the purpose of having a trivial state.\n\nThis is a most likely a case of composition over inheritance. The Sampler object should simply have a state member.",
      "parentUuid": "3c17c48e_5e4e4c2b",
      "revId": "daee1526440ce6452cc45b908acb7647b3521195",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a25a3285_c4f8fe41",
        "filename": "src/Vulkan/VkSampler.hpp",
        "patchSetId": 3
      },
      "lineNbr": 58,
      "author": {
        "id": 9669
      },
      "writtenOn": "2020-03-24T13:24:40Z",
      "side": 1,
      "message": "\u003e You can\u0027t do SamplerState\u003c Object\u003cSampler, VkSampler\u003e \u003e, because that would defeat the purpose of having a trivial state.\n\nGood point. I also agree that composition would be better here. But what I wanted to know is: does Object\u003c\u003e need to be the first parent?",
      "parentUuid": "25269861_7efe8b68",
      "revId": "daee1526440ce6452cc45b908acb7647b3521195",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4b75df3d_e5c07c41",
        "filename": "src/Vulkan/VkSampler.hpp",
        "patchSetId": 3
      },
      "lineNbr": 58,
      "author": {
        "id": 5050
      },
      "writtenOn": "2020-03-24T13:34:31Z",
      "side": 1,
      "message": "Not entirely sure. It would be better, but it doesn\u0027t look like it would prevent casting from the base class the way the code is written now in VkObject.hpp.",
      "parentUuid": "a25a3285_c4f8fe41",
      "revId": "daee1526440ce6452cc45b908acb7647b3521195",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b9657dd3_2cd70e55",
        "filename": "src/Vulkan/VkSampler.hpp",
        "patchSetId": 3
      },
      "lineNbr": 58,
      "author": {
        "id": 5005
      },
      "writtenOn": "2020-03-24T18:09:37Z",
      "side": 1,
      "message": "It works either way. In fact that\u0027s what vk::Object\u003c\u003e is for. VkObject.hpp mentions the multiple inheritance case, and we do it for vk::Fence already.\n\nNote also that sampler objects are not laid out in memory explicitly, and the application can\u0027t assume that the handle is a pointer.\n\nAnyway, it might help ourselves during debugging to have the handle correspond to the starting address of the object so I\u0027ll switch them around for that purpose.\n\n(I don\u0027t think we have to resort to composition. vk::Sampler previously exposed the sampler state variables as part of its \u0027interface\u0027, and we can keep it that way. When SamplerState is expected we can pass it a Sampler instance, without requiring any layer of indirection. Composition would be appropriate if encapsulation was required.)",
      "parentUuid": "4b75df3d_e5c07c41",
      "revId": "daee1526440ce6452cc45b908acb7647b3521195",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "45ba19c1_ee70a9f7",
        "filename": "src/Vulkan/VkSampler.hpp",
        "patchSetId": 3
      },
      "lineNbr": 58,
      "author": {
        "id": 9669
      },
      "writtenOn": "2020-03-24T18:19:44Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "b9657dd3_2cd70e55",
      "revId": "daee1526440ce6452cc45b908acb7647b3521195",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": false
    }
  ]
}