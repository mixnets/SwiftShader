{
  "comments": [
    {
      "key": {
        "uuid": "e85c1bb8_7d711d9a",
        "filename": "src/Vulkan/VkFramebuffer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 5065
      },
      "writtenOn": "2018-11-22T09:18:37Z",
      "side": 1,
      "message": "This is dead code right now, maybe we should try to add code that is covered by dEQP tests so we know it does more than just compile. There\u0027s also no full Framebuffer clear operation because the render pass specifies which attachments should be cleared (via the loadOp)",
      "revId": "7d75ee5b2ee4bbf4063908ac5b336cc80045cb06",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "87dbbc25_81171a08",
        "filename": "src/Vulkan/VkFramebuffer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 5050
      },
      "writtenOn": "2018-11-22T14:59:43Z",
      "side": 1,
      "message": "I encountered this fairly early, because clearing the framebuffer(s) happens in vkCmdBeginRenderPass command. I just need the command buffer up and running to test this properly.",
      "parentUuid": "e85c1bb8_7d711d9a",
      "revId": "7d75ee5b2ee4bbf4063908ac5b336cc80045cb06",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bf7c9245_358a5166",
        "filename": "src/Vulkan/VkFramebuffer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 6982
      },
      "writtenOn": "2018-12-07T23:04:18Z",
      "side": 1,
      "message": "`pClearValueCount` that isn\u0027t a pointer is jarring.",
      "parentUuid": "87dbbc25_81171a08",
      "revId": "7d75ee5b2ee4bbf4063908ac5b336cc80045cb06",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6a7a7dd3_ac4a1f22",
        "filename": "src/Vulkan/VkFramebuffer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 5065
      },
      "writtenOn": "2018-12-10T10:27:08Z",
      "side": 1,
      "message": "Agreed. I think it means \"parameter_clearValueCuunt\"",
      "parentUuid": "bf7c9245_358a5166",
      "revId": "7d75ee5b2ee4bbf4063908ac5b336cc80045cb06",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d1175c12_cdbb870e",
        "filename": "src/Vulkan/VkFramebuffer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 5050
      },
      "writtenOn": "2018-12-10T20:05:39Z",
      "side": 1,
      "message": "renamed",
      "parentUuid": "6a7a7dd3_ac4a1f22",
      "revId": "7d75ee5b2ee4bbf4063908ac5b336cc80045cb06",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b10f931a_13cfdd70",
        "filename": "src/Vulkan/VkFramebuffer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 6982
      },
      "writtenOn": "2018-12-07T23:04:18Z",
      "side": 1,
      "message": "This is weird if intended to be used during CmdBeginRenderPass -- spurious elements in this array are fine; insufficient elements are not (if the i\u0027th attachment in the renderpass uses a clear load op, then this array must be at least length i.\n\nI would consider moving this out of Framebuffer entirely into a command? -- you don\u0027t have enough information here.",
      "revId": "7d75ee5b2ee4bbf4063908ac5b336cc80045cb06",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9207f71d_90db66d7",
        "filename": "src/Vulkan/VkFramebuffer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 5050
      },
      "writtenOn": "2018-12-10T20:05:39Z",
      "side": 1,
      "message": "Ok, changed the check to make sure clearValueCount is large enough instead.",
      "parentUuid": "b10f931a_13cfdd70",
      "revId": "7d75ee5b2ee4bbf4063908ac5b336cc80045cb06",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "912bb500_32789198",
        "filename": "src/Vulkan/VkFramebuffer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 5065
      },
      "writtenOn": "2018-11-22T09:18:37Z",
      "side": 1,
      "message": "nit: Framebuffer could store a vk::ImageView* and do the cast in the constructor instead.",
      "range": {
        "startLine": 40,
        "startChar": 2,
        "endLine": 40,
        "endChar": 22
      },
      "revId": "7d75ee5b2ee4bbf4063908ac5b336cc80045cb06",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "369199dc_aa38e666",
        "filename": "src/Vulkan/VkFramebuffer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 5050
      },
      "writtenOn": "2018-11-22T14:59:43Z",
      "side": 1,
      "message": "I can do this, but I first wanted to ask: should the Framebuffer object destroy all of its VkImageView attachments when it gets destroyed or are those VkImageView objects always manually released by vkDestroyImageView calls.",
      "parentUuid": "912bb500_32789198",
      "range": {
        "startLine": 40,
        "startChar": 2,
        "endLine": 40,
        "endChar": 22
      },
      "revId": "7d75ee5b2ee4bbf4063908ac5b336cc80045cb06",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "df29ab6f_2cfc934c",
        "filename": "src/Vulkan/VkFramebuffer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 5065
      },
      "writtenOn": "2018-11-22T16:34:18Z",
      "side": 1,
      "message": "VkImageViews aren\u0027t tied to the frambuffer and are released separately. In general only command buffer pools and maybe descriptor set pools free other objects.",
      "parentUuid": "369199dc_aa38e666",
      "range": {
        "startLine": 40,
        "startChar": 2,
        "endLine": 40,
        "endChar": 22
      },
      "revId": "7d75ee5b2ee4bbf4063908ac5b336cc80045cb06",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b0a03e77_5cec1254",
        "filename": "src/Vulkan/VkFramebuffer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 5050
      },
      "writtenOn": "2018-12-04T18:12:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "df29ab6f_2cfc934c",
      "range": {
        "startLine": 40,
        "startChar": 2,
        "endLine": 40,
        "endChar": 22
      },
      "revId": "7d75ee5b2ee4bbf4063908ac5b336cc80045cb06",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fcfe41b7_fcab1a9f",
        "filename": "src/Vulkan/VkImage.cpp",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 6982
      },
      "writtenOn": "2018-12-07T23:04:18Z",
      "side": 1,
      "message": "This smells off. You want to clear particular subresources (ranges of levels or layers). For attachments this is driven by the imageview. You don\u0027t have enough information here.\n\nPossible: pass a VkSubresourceRange here ?",
      "revId": "7d75ee5b2ee4bbf4063908ac5b336cc80045cb06",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e2b16794_833e505e",
        "filename": "src/Vulkan/VkImage.cpp",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 5050
      },
      "writtenOn": "2018-12-10T20:05:39Z",
      "side": 1,
      "message": "This is the clear operation from vkBeginCommangBuffer. This is the information I\u0027m getting from that command.",
      "parentUuid": "fcfe41b7_fcab1a9f",
      "revId": "7d75ee5b2ee4bbf4063908ac5b336cc80045cb06",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c7cbb6f_27b4e44a",
        "filename": "src/Vulkan/VkImageView.cpp",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 5065
      },
      "writtenOn": "2018-11-22T09:18:37Z",
      "side": 1,
      "message": "VK_ATTACHMENT_LOAD_OP_CLEAR doesn\u0027t take the image view component swizzling into account.",
      "revId": "7d75ee5b2ee4bbf4063908ac5b336cc80045cb06",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7fbe3f38_0b591102",
        "filename": "src/Vulkan/VkImageView.cpp",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 5050
      },
      "writtenOn": "2018-11-22T14:59:43Z",
      "side": 1,
      "message": "What about the clearing which happens in vkCmdBeginRenderPass. Does it also ignore the swizzle? I guess it would make sense to ignore it when clearing, otherwise it can get confusing.",
      "parentUuid": "5c7cbb6f_27b4e44a",
      "revId": "7d75ee5b2ee4bbf4063908ac5b336cc80045cb06",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "95579bf7_0e60b4c2",
        "filename": "src/Vulkan/VkImageView.cpp",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 5065
      },
      "writtenOn": "2018-11-22T16:34:18Z",
      "side": 1,
      "message": "VK_ATTACHMENT_LOAD_OP_CLEAR is only used by beginRenderPass so that\u0027s what I meant, that beginRenderPass would ignore the swizzling. Like you said this wouldn\u0027t really make sense for the API to do swizzled clears like that.",
      "parentUuid": "7fbe3f38_0b591102",
      "revId": "7d75ee5b2ee4bbf4063908ac5b336cc80045cb06",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0b936096_75fc5dd1",
        "filename": "src/Vulkan/VkImageView.cpp",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 5050
      },
      "writtenOn": "2018-12-04T18:12:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "95579bf7_0e60b4c2",
      "revId": "7d75ee5b2ee4bbf4063908ac5b336cc80045cb06",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3b96a14f_0f6df254",
        "filename": "src/Vulkan/VkImageView.cpp",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 6982
      },
      "writtenOn": "2018-12-07T23:04:18Z",
      "side": 1,
      "message": "Relevant VU in VkFramebufferCreateInfo:\n\n* Each element of pAttachments must have been created with the identity swizzle",
      "parentUuid": "0b936096_75fc5dd1",
      "revId": "7d75ee5b2ee4bbf4063908ac5b336cc80045cb06",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4d6801b6_bc725422",
        "filename": "src/Vulkan/VkImageView.cpp",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 5050
      },
      "writtenOn": "2018-12-10T20:05:39Z",
      "side": 1,
      "message": "Ack. We don\u0027t have to actively validate that, so it should be fine.",
      "parentUuid": "3b96a14f_0f6df254",
      "revId": "7d75ee5b2ee4bbf4063908ac5b336cc80045cb06",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": false
    }
  ]
}