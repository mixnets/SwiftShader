{
  "comments": [
    {
      "key": {
        "uuid": "f3d36dd1_8532a6f8",
        "filename": "src/Pipeline/SpirvShaderImage.cpp",
        "patchSetId": 1
      },
      "lineNbr": 663,
      "author": {
        "id": 9669
      },
      "writtenOn": "2020-07-06T14:43:04Z",
      "side": 1,
      "message": "In the same way we\u0027re using texelPtr.Load\u003cSIMD::Int\u003e for the 4-byte case above, could we not make Load, or add another function, that could read back 1 or 2 bytes given an offset/index?",
      "revId": "cb5f8fb1e1d296928f8029ce44f79aa1efb1facd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8bd7ba1f_8e955399",
        "filename": "src/Pipeline/SpirvShaderImage.cpp",
        "patchSetId": 1
      },
      "lineNbr": 663,
      "author": {
        "id": 5005
      },
      "writtenOn": "2020-07-06T15:36:06Z",
      "side": 1,
      "message": "Yes, that\u0027s why I added the TODO(b/160531165) at line 644. I have to give it a bit more thought. Load() is already a complex function, and adding another parameter to indicate the effective access size could make it very difficult to maintain (we still have open bugs related to that code). Having separate functions would avoid that but obviously results in some duplication which has its own set of issues.\n\nI\u0027m sidestepping the issue for now. It will be good to have the added code coverage from shaderStorageImageExtendedFormats before refactoring this.",
      "parentUuid": "f3d36dd1_8532a6f8",
      "revId": "cb5f8fb1e1d296928f8029ce44f79aa1efb1facd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6c9dce1_52d983bd",
        "filename": "src/Pipeline/SpirvShaderImage.cpp",
        "patchSetId": 1
      },
      "lineNbr": 663,
      "author": {
        "id": 9669
      },
      "writtenOn": "2020-07-06T15:54:21Z",
      "side": 1,
      "message": "Okay, but I will say that when it comes to copy-paste, a lot of this code looks very similar, and is quite verbose, so I feel like copy-paste errors are even more likely to occur here than if we use some higher-level functions to wrap this up. This includes, for example, code where we shift, mask, cast, min, max, etc. For me, it\u0027s not easy enough to tell what the code is trying to do at a higher level. I think we can make this code both easier to read and maintain with some refactoring into well named functions.",
      "parentUuid": "8bd7ba1f_8e955399",
      "revId": "cb5f8fb1e1d296928f8029ce44f79aa1efb1facd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e2faa779_73e2a5e1",
        "filename": "src/Pipeline/SpirvShaderImage.cpp",
        "patchSetId": 1
      },
      "lineNbr": 1082,
      "author": {
        "id": 9669
      },
      "writtenOn": "2020-07-06T14:43:04Z",
      "side": 1,
      "message": "Same comment as above, but for texelPtr.Store?",
      "revId": "cb5f8fb1e1d296928f8029ce44f79aa1efb1facd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3dec03cf_c8ce4154",
        "filename": "src/Pipeline/SpirvShaderImage.cpp",
        "patchSetId": 1
      },
      "lineNbr": 1082,
      "author": {
        "id": 5005
      },
      "writtenOn": "2020-07-06T15:36:06Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "e2faa779_73e2a5e1",
      "revId": "cb5f8fb1e1d296928f8029ce44f79aa1efb1facd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": false
    }
  ]
}