{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "99c26d09_da2ac421",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5050
      },
      "writtenOn": "2021-01-28T15:25:09Z",
      "side": 1,
      "message": "Note: With this new fix, there\u0027s no crash, but the test output is:\n\nWarning: setupLoaderTermPhysDevs:  Failed to detect any valid GPUs in the current config\nError: Assertion failure at ../../third_party/dawn/src/dawn_native/vulkan/BackendVk.cpp:65 (OnDebugUtilsCallback): (messageSeverity \u0026 VK_DEBUG_UTILS_MESSAGE_SEVERITY_ERROR_BIT_EXT) \u003d\u003d 0\nAborted\n",
      "revId": "1c424664190f3da7e99f84559bc078be981b8d9b",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "76304e9f_9f48a04a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 9669
      },
      "writtenOn": "2021-01-28T16:03:41Z",
      "side": 1,
      "message": "This is okay, right?",
      "parentUuid": "99c26d09_da2ac421",
      "revId": "1c424664190f3da7e99f84559bc078be981b8d9b",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "00e19bd3_b3b11cc7",
        "filename": "src/Vulkan/VkDescriptorSetLayout.cpp",
        "patchSetId": 3
      },
      "lineNbr": 103,
      "author": {
        "id": 9669
      },
      "writtenOn": "2021-01-28T15:37:13Z",
      "side": 1,
      "message": "How about instead of checking for constants like UINT32_MAX and SIZE_MAX, we use a little \"isMax\" helper function that takes advantage of numeric_limits? Here\u0027s what I mean:\n\nhttps://godbolt.org/z/3sYPG1\n\nSo this code would become:\n\n if (IsMaxValue(pCreateInfo-\u003epBindings[i].binding))\n {\n     return MaxValue\u003csize_t\u003e(); // Could also be ~0\n }\n\nAnd below on line 52, we do the same thing:\n\n if (IsMaxValue(size))\n {\n     return VK_ERROR_OUT_OF_HOST_MEMORY;\n }\n\nI think it helps readability, and is robust against type changes. Just a thought.",
      "revId": "1c424664190f3da7e99f84559bc078be981b8d9b",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "77f0a6e3_3e32c346",
        "filename": "src/Vulkan/VkDescriptorSetLayout.cpp",
        "patchSetId": 3
      },
      "lineNbr": 103,
      "author": {
        "id": 9669
      },
      "writtenOn": "2021-01-28T15:38:02Z",
      "side": 1,
      "message": "Actually, this is the compiler explorer link: https://godbolt.org/z/ob8KrT",
      "parentUuid": "00e19bd3_b3b11cc7",
      "revId": "1c424664190f3da7e99f84559bc078be981b8d9b",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c5be938e_b3c51eb1",
        "filename": "src/Vulkan/VkDescriptorSetLayout.cpp",
        "patchSetId": 3
      },
      "lineNbr": 103,
      "author": {
        "id": 5050
      },
      "writtenOn": "2021-01-28T15:47:29Z",
      "side": 1,
      "message": "I\u0027m fine with this if it\u0027s applied consistently. Should we just do a cl which changes other occurrences of this, like:\nhttps://source.chromium.org/chromium/chromium/src/+/master:third_party/swiftshader/src/Vulkan/VkPhysicalDevice.cpp;l\u003d454",
      "parentUuid": "77f0a6e3_3e32c346",
      "revId": "1c424664190f3da7e99f84559bc078be981b8d9b",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0873afb2_6f35fa85",
        "filename": "src/Vulkan/VkDescriptorSetLayout.cpp",
        "patchSetId": 3
      },
      "lineNbr": 103,
      "author": {
        "id": 9669
      },
      "writtenOn": "2021-01-28T16:02:47Z",
      "side": 1,
      "message": "Yeah, should be a separate CL, given that we do this in other places, as you mention. I\u0027m just not a fan of sentinel values. Perhaps the right approach would be to do the ErrorOr thing, where we can return a value or an error, as is done in Chromium. Anyway, for now, we can go with this.",
      "parentUuid": "c5be938e_b3c51eb1",
      "revId": "1c424664190f3da7e99f84559bc078be981b8d9b",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    }
  ]
}