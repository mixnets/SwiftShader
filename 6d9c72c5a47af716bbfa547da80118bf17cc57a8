{
  "comments": [
    {
      "key": {
        "uuid": "08c5c970_fcee8400",
        "filename": "src/Vulkan/VkDevice.hpp",
        "patchSetId": 1
      },
      "lineNbr": 92,
      "author": {
        "id": 7183
      },
      "writtenOn": "2020-03-24T07:34:41Z",
      "side": 1,
      "message": "I meant have this as a member on the cache so you don\u0027t expose the mutex.",
      "range": {
        "startLine": 92,
        "startChar": 31,
        "endLine": 92,
        "endChar": 42
      },
      "revId": "6d9c72c5a47af716bbfa547da80118bf17cc57a8",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "33114f7a_230509dc",
        "filename": "src/Vulkan/VkDevice.hpp",
        "patchSetId": 1
      },
      "lineNbr": 92,
      "author": {
        "id": 5005
      },
      "writtenOn": "2020-03-25T05:25:06Z",
      "side": 1,
      "message": "This is a member of the cache (SamplingRoutineCache to be precise), and the mutex isn\u0027t exposed from it any more (getMutex() is gone).\n\nDid you mean moving it into LRUConstCache?",
      "parentUuid": "08c5c970_fcee8400",
      "range": {
        "startLine": 92,
        "startChar": 31,
        "endLine": 92,
        "endChar": 42
      },
      "revId": "6d9c72c5a47af716bbfa547da80118bf17cc57a8",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f510d123_c6eb4cd8",
        "filename": "src/Vulkan/VkDevice.hpp",
        "patchSetId": 1
      },
      "lineNbr": 92,
      "author": {
        "id": 7183
      },
      "writtenOn": "2020-03-25T11:16:18Z",
      "side": 1,
      "message": "Ah sorry, I\u0027m getting confused by the number of cache classes we now have: LRUCache, LRUConstCache, SamplingRoutineCache.\n\nThis took me quite a while to refresh my memory on all this. Given that LRUConstCache is only used here, what you think about folding the logic of LRUConstCache into here and killing the LRUConstCache class?\n\nEither way, I think the public API for this is still larger than it needs to be. We could remove the queryConst() method and just have the const-cache queried before the lock. That reduces the API down to just getOrCreate() and updateConstCache() (I prefer updateSnapshot()).",
      "parentUuid": "33114f7a_230509dc",
      "range": {
        "startLine": 92,
        "startChar": 31,
        "endLine": 92,
        "endChar": 42
      },
      "revId": "6d9c72c5a47af716bbfa547da80118bf17cc57a8",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    }
  ]
}