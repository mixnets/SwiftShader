{
  "comments": [
    {
      "key": {
        "uuid": "3c97b484_102dba5a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 7183
      },
      "writtenOn": "2019-09-07T22:21:10Z",
      "side": 1,
      "message": "Functions that are not reachable from the entrypoint we are building should not be compiled. So the only way I could see this occurring is if the descriptor set is referenced in a dynamically unreachable block. Is that right?\n\nIf so, it might be worth adding a TODO to emit a JIT\u0027d assert whenever we attempt to execute code that references an illegal pointer like this one. That or change the state pointer to be nullptr when the DescriptorSet has an OOB index.",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 71
      },
      "revId": "441c0c5bd6353020604b0c8286be799ad090c331",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "33ff3a7a_5fe8f568",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 6982
      },
      "writtenOn": "2019-09-08T13:41:47Z",
      "side": 1,
      "message": "The problematic OpVariable instructions are outside of any block, so we compile them regardless of whether they are actually used by the current entrypoint.\n\nThere is an assert at the point of use if we were to actually try to use these out of bounds descriptors.",
      "parentUuid": "3c97b484_102dba5a",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 71
      },
      "revId": "441c0c5bd6353020604b0c8286be799ad090c331",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cf99b707_91ba0e8e",
        "filename": "src/Pipeline/SpirvShader.cpp",
        "patchSetId": 1
      },
      "lineNbr": 2879,
      "author": {
        "id": 5005
      },
      "writtenOn": "2019-09-10T18:37:00Z",
      "side": 1,
      "message": "This indexes a pointer to vk::DescriptorSet::Bindings, which is an std::array of size MAX_BOUND_DESCRIPTOR_SETS.\n\nWe may be running into the same issue above.",
      "range": {
        "startLine": 2879,
        "startChar": 57,
        "endLine": 2879,
        "endChar": 88
      },
      "revId": "441c0c5bd6353020604b0c8286be799ad090c331",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9a152884_88ad2582",
        "filename": "src/Pipeline/SpirvShader.cpp",
        "patchSetId": 1
      },
      "lineNbr": 2879,
      "author": {
        "id": 6982
      },
      "writtenOn": "2019-09-10T19:11:03Z",
      "side": 1,
      "message": "Right -- this JITs a load from the array. If we don\u0027t ever touch this variable it doesn\u0027t happen.\n\nI could substitute nullptr here if out of bounds so you have a more obvious bogus value rather than whatever the wild read gives you?",
      "parentUuid": "cf99b707_91ba0e8e",
      "range": {
        "startLine": 2879,
        "startChar": 57,
        "endLine": 2879,
        "endChar": 88
      },
      "revId": "441c0c5bd6353020604b0c8286be799ad090c331",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "43444afc_861d8e8e",
        "filename": "src/Pipeline/SpirvShader.cpp",
        "patchSetId": 1
      },
      "lineNbr": 2879,
      "author": {
        "id": 5005
      },
      "writtenOn": "2019-09-10T19:34:04Z",
      "side": 1,
      "message": "Yes, that\u0027s much preferred.",
      "parentUuid": "9a152884_88ad2582",
      "range": {
        "startLine": 2879,
        "startChar": 57,
        "endLine": 2879,
        "endChar": 88
      },
      "revId": "441c0c5bd6353020604b0c8286be799ad090c331",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1f4b0c06_1ab3cea7",
        "filename": "src/Pipeline/SpirvShader.cpp",
        "patchSetId": 1
      },
      "lineNbr": 2879,
      "author": {
        "id": 6982
      },
      "writtenOn": "2019-11-09T01:12:15Z",
      "side": 1,
      "message": "Fixed.",
      "parentUuid": "43444afc_861d8e8e",
      "range": {
        "startLine": 2879,
        "startChar": 57,
        "endLine": 2879,
        "endChar": 88
      },
      "revId": "441c0c5bd6353020604b0c8286be799ad090c331",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": false
    }
  ]
}