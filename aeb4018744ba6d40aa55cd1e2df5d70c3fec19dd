{
  "comments": [
    {
      "key": {
        "uuid": "97c88c5b_6ab56c14",
        "filename": "CMakeLists.txt",
        "patchSetId": 15
      },
      "lineNbr": 1789,
      "author": {
        "id": 5005
      },
      "writtenOn": "2019-05-17T13:32:57Z",
      "side": 1,
      "message": "nit: This file uses spaces for alignment.",
      "range": {
        "startLine": 1789,
        "startChar": 0,
        "endLine": 1789,
        "endChar": 1
      },
      "revId": "aeb4018744ba6d40aa55cd1e2df5d70c3fec19dd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dcb09ece_6d1d70a1",
        "filename": "build/Visual Studio 15 2017 Win64/libvk_swiftshader.vcxproj",
        "patchSetId": 15
      },
      "lineNbr": 73,
      "author": {
        "id": 5005
      },
      "writtenOn": "2019-05-17T13:32:57Z",
      "side": 1,
      "message": "Shouldn\u0027t be needed. See other comments.",
      "range": {
        "startLine": 73,
        "startChar": 31,
        "endLine": 73,
        "endChar": 42
      },
      "revId": "aeb4018744ba6d40aa55cd1e2df5d70c3fec19dd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ba70c577_f1d3955c",
        "filename": "src/Pipeline/BUILD.gn",
        "patchSetId": 15
      },
      "lineNbr": 48,
      "author": {
        "id": 5045
      },
      "writtenOn": "2019-05-17T14:36:49Z",
      "side": 1,
      "message": "It might be useful to abstract the location of SPIRV-Headers and SPIRV-Tools for the Chromium and Fuchsia-platform builds. For example by providing a target in swiftshader.gni, but it is something to be address later, imho (and I\u0027d be happy to provide patches).\n\nNote that I cannot test this change in the Fuchsia tree for now, but thanks for letting me in!",
      "revId": "aeb4018744ba6d40aa55cd1e2df5d70c3fec19dd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "033a72bf_9d1d45f0",
        "filename": "src/Vulkan/BUILD.gn",
        "patchSetId": 15
      },
      "lineNbr": 105,
      "author": {
        "id": 5005
      },
      "writtenOn": "2019-05-17T13:32:57Z",
      "side": 1,
      "message": "This should use the libvk_swiftshader.lds version script to restrict the exported symbols. See e.g. libGLESv2/BUILD.gn for version script usage.",
      "revId": "aeb4018744ba6d40aa55cd1e2df5d70c3fec19dd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1b0f49d7_79a813cb",
        "filename": "src/Vulkan/libVulkan.cpp",
        "patchSetId": 15
      },
      "lineNbr": 80,
      "author": {
        "id": 5005
      },
      "writtenOn": "2019-05-17T13:32:57Z",
      "side": 1,
      "message": "I believe you can just set VKAPI_ATTR for this instead.",
      "range": {
        "startLine": 80,
        "startChar": 0,
        "endLine": 80,
        "endChar": 9
      },
      "revId": "aeb4018744ba6d40aa55cd1e2df5d70c3fec19dd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a79c5905_26581b4c",
        "filename": "src/Vulkan/libVulkan.cpp",
        "patchSetId": 15
      },
      "lineNbr": 80,
      "author": {
        "id": 17183
      },
      "writtenOn": "2019-05-17T14:24:42Z",
      "side": 1,
      "message": "I can\u0027t set VKAPI_ATTR in the build file because then it would complain that it is already defined at https://cs.chromium.org/chromium/src/third_party/swiftshader/include/vulkan/vk_platform.h?rcl\u003d18ebb45055a541cacdc3635da835574dc0dbd0f3\u0026l\u003d66",
      "parentUuid": "1b0f49d7_79a813cb",
      "range": {
        "startLine": 80,
        "startChar": 0,
        "endLine": 80,
        "endChar": 9
      },
      "revId": "aeb4018744ba6d40aa55cd1e2df5d70c3fec19dd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c81e2449_ad7ec8b7",
        "filename": "src/Vulkan/libVulkan.cpp",
        "patchSetId": 15
      },
      "lineNbr": 80,
      "author": {
        "id": 17183
      },
      "writtenOn": "2019-05-17T14:24:42Z",
      "side": 1,
      "message": "Chromium expects this function to be called vkGetInstanceProcAddr.\n\nhttps://cs.chromium.org/chromium/src/gpu/vulkan/vulkan_function_pointers.cc?rcl\u003d79e824b4475b37fb98620f90703c3fc77d814231\u0026l\u003d31\n\nIs there a reason it is named this way? Can I rename this or add a second function with the name that Chromium expects?",
      "range": {
        "startLine": 80,
        "startChar": 51,
        "endLine": 80,
        "endChar": 76
      },
      "revId": "aeb4018744ba6d40aa55cd1e2df5d70c3fec19dd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ece7cbae_276f2ccf",
        "filename": "src/Vulkan/libVulkan.cpp",
        "patchSetId": 15
      },
      "lineNbr": 80,
      "author": {
        "id": 5005
      },
      "writtenOn": "2019-05-21T18:29:37Z",
      "side": 1,
      "message": "Just remove it again. Shouldn\u0027t be needed when using the version script.",
      "parentUuid": "a79c5905_26581b4c",
      "range": {
        "startLine": 80,
        "startChar": 0,
        "endLine": 80,
        "endChar": 9
      },
      "revId": "aeb4018744ba6d40aa55cd1e2df5d70c3fec19dd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e1b53d01_c9d9f884",
        "filename": "src/Vulkan/libVulkan.cpp",
        "patchSetId": 15
      },
      "lineNbr": 80,
      "author": {
        "id": 5005
      },
      "writtenOn": "2019-05-21T18:29:37Z",
      "side": 1,
      "message": "vkGetInstanceProcAddr is defined below: https://swiftshader-review.googlesource.com/c/SwiftShader/+/31529/15/src/Vulkan/libVulkan.cpp#304\n\nvk_icdGetInstanceProcAddr is the ICD entry function used by the Vulkan Loader: https://vulkan.lunarg.com/doc/view/1.0.57.0/windows/LoaderAndLayerInterface.html",
      "parentUuid": "c81e2449_ad7ec8b7",
      "range": {
        "startLine": 80,
        "startChar": 51,
        "endLine": 80,
        "endChar": 76
      },
      "revId": "aeb4018744ba6d40aa55cd1e2df5d70c3fec19dd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "46e67604_0b3163eb",
        "filename": "src/Vulkan/libVulkan.cpp",
        "patchSetId": 15
      },
      "lineNbr": 80,
      "author": {
        "id": 17183
      },
      "writtenOn": "2019-05-21T19:08:26Z",
      "side": 1,
      "message": "It doesn\u0027t work when I remove it even though I\u0027m using the version script. In GL swiftshader also, we do something similar in addition to having a version script.",
      "parentUuid": "ece7cbae_276f2ccf",
      "range": {
        "startLine": 80,
        "startChar": 0,
        "endLine": 80,
        "endChar": 9
      },
      "revId": "aeb4018744ba6d40aa55cd1e2df5d70c3fec19dd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "351338c4_926eaeed",
        "filename": "src/Vulkan/libVulkan.cpp",
        "patchSetId": 15
      },
      "lineNbr": 80,
      "author": {
        "id": 17183
      },
      "writtenOn": "2019-05-21T19:08:26Z",
      "side": 1,
      "message": "I added VK_EXPORT to vkGetInstanceProcAddr and removed it from here. Also added it to the version script.",
      "parentUuid": "e1b53d01_c9d9f884",
      "range": {
        "startLine": 80,
        "startChar": 51,
        "endLine": 80,
        "endChar": 76
      },
      "revId": "aeb4018744ba6d40aa55cd1e2df5d70c3fec19dd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "446322dc_54c33944",
        "filename": "third_party/SPIRV-Tools/BUILD.gn",
        "patchSetId": 15
      },
      "lineNbr": 698,
      "author": {
        "id": 5005
      },
      "writtenOn": "2019-05-17T13:32:57Z",
      "side": 1,
      "message": "This file is an unaltered copy of the upstream SPIRV-Tools repo. I strongly recommend keeping it that way to avoid merge conflicts in the future. Either this change should be upstreamed or another solution must be found to avoid this conflict.",
      "range": {
        "startLine": 697,
        "startChar": 0,
        "endLine": 698,
        "endChar": 60
      },
      "revId": "aeb4018744ba6d40aa55cd1e2df5d70c3fec19dd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "410d1770_309a1b03",
        "filename": "third_party/SPIRV-Tools/BUILD.gn",
        "patchSetId": 15
      },
      "lineNbr": 698,
      "author": {
        "id": 17183
      },
      "writtenOn": "2019-05-17T14:24:42Z",
      "side": 1,
      "message": "It was recommended to me that swiftshader can depend on chrome\u0027s copy of spvtools instead of its own copy when build_with_chromium is true. Is this something that we\u0027re willing to do? I\u0027m worried that the two versions would deviate far enough that would cause problems.",
      "parentUuid": "446322dc_54c33944",
      "range": {
        "startLine": 697,
        "startChar": 0,
        "endLine": 698,
        "endChar": 60
      },
      "revId": "aeb4018744ba6d40aa55cd1e2df5d70c3fec19dd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4",
      "unresolved": true
    }
  ]
}