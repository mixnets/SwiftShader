; SPIR-V
; Version: 1.0
; Generator: Khronos SPIR-V Tools Assembler; 0
; Bound: 28
; Schema: 0
               OpCapability Shader
     %DbgExt = OpExtInstImport "OpenCL.DebugInfo.100"
               OpMemoryModel Logical GLSL450
               OpEntryPoint Vertex %main "main" %pos %color %gl_Position %out_var_COLOR
        %src = OpString "simple_vs.hlsl"
       %code = OpString "#line 1 \"simple_vs.hlsl\"
struct VS_OUTPUT {
  float4 pos : SV_POSITION;
  float4 color : COLOR;
};

VS_OUTPUT main(float4 pos : POSITION,
               float4 color : COLOR) {
  VS_OUTPUT vout;
  vout.pos = pos;
  vout.color = color;
  return vout;
}
"
               OpSource HLSL 600 %src "#line 1 \"simple_vs.hlsl\"
struct VS_OUTPUT {
  float4 pos : SV_POSITION;
  float4 color : COLOR;
};

VS_OUTPUT main(float4 pos : POSITION,
               float4 color : COLOR) {
  VS_OUTPUT vout;
  vout.pos = pos;
  vout.color = color;
  return vout;
}
"
               OpName %out_var_COLOR "out.var.COLOR"
               OpName %main "main"
               OpName %VS_OUTPUT "VS_OUTPUT"
               OpMemberName %VS_OUTPUT 0 "pos"
               OpMemberName %VS_OUTPUT 1 "color"
               OpName %pos "pos"
               OpName %color "color"
               OpName %vout "vout"
               OpDecorate %gl_Position BuiltIn Position
               OpDecorate %pos Location 0
               OpDecorate %color Location 1
               OpDecorate %out_var_COLOR Location 0
        %int = OpTypeInt 32 1
      %int_0 = OpConstant %int 0
      %int_1 = OpConstant %int 1
      %float = OpTypeFloat 32
    %v4float = OpTypeVector %float 4
%_ptr_Input_v4float = OpTypePointer Input %v4float
%_ptr_Output_v4float = OpTypePointer Output %v4float
       %void = OpTypeVoid
         %16 = OpTypeFunction %void
%_ptr_Function_v4float = OpTypePointer Function %v4float
  %VS_OUTPUT = OpTypeStruct %v4float %v4float
         %18 = OpTypeFunction %VS_OUTPUT %_ptr_Function_v4float %_ptr_Function_v4float
%_ptr_Function_VS_OUTPUT = OpTypePointer Function %VS_OUTPUT

; Compilation Unit
%dbg_src = OpExtInst %void %DbgExt DebugSource %src %code
%comp_unit = OpExtInst %void %DbgExt DebugCompilationUnit 2 4 %dbg_src HLSL

; Type names
%VS_OUTPUT_name = OpString "struct VS_OUTPUT"
%float_name = OpString "float"
%VS_OUTPUT_pos_name = OpString "pos : SV_POSITION"
%VS_OUTPUT_color_name = OpString "color : COLOR"
%main_name = OpString "main"
%main_linkage_name = OpString "VS_OUTPUT_main_v4f_v4f"
%pos_name = OpString "pos : POSITION"
%color_name = OpString "color : COLOR"
%vout_name = OpString "vout"

; Type sizes in bit unit. For example, 128 means "128 bits"
%int_32 = OpConstant %int 32
%int_128 = OpConstant %int 128

; Type information
; %VS_OUTPUT_info and %VS_OUTPUT_pos_info have cycling reference
%VS_OUTPUT_info = OpExtInst %void %DbgExt DebugTypeComposite %VS_OUTPUT_name Structure %dbg_src 1 1 %comp_unit %VS_OUTPUT_linkage_name %int_128 FlagIsPublic %VS_OUTPUT_pos_info %VS_OUTPUT_color_info
%float_info = OpExtInst %void %DbgExt DebugTypeBasic %float_name %int_32 Float
%v4float_info = OpExtInst %void %DbgExt DebugTypeVector %float_info 4
%VS_OUTPUT_pos_info = OpExtInst %void %DbgExt DebugTypeMember %VS_OUTPUT_pos_name %v4float_info %dbg_src 2 3 %VS_OUTPUT_info %int_0 %int_128 FlagIsPublic
%VS_OUTPUT_color_info = OpExtInst %void %DbgExt DebugTypeMember %VS_OUTPUT_color_name %v4float_info %dbg_src 3 3 %VS_OUTPUT_info %int_128 %int_128 FlagIsPublic
%main_type_info = OpExtInst %void %DbgExt DebugTypeFunction FlagIsPublic %VS_OUTPUT_info %v4float_info %v4float_info

; DebugExpression without any information
%null_expr = OpExtInst %void %DbgExt DebugExpression

; Function information
%main_info = OpExtInst %void %DbgExt DebugFunction %main_name %main_type_info %dbg_src 6 1 %comp_unit %main_linkage_name FlagIsPublic 7 %src_main

; Local variable information
%pos_info = OpExtInst %void %DbgExt DebugLocalVariable %pos_name %v4float_info %dbg_src 6 16 %main_info FlagIsLocal 0
%color_info = OpExtInst %void %DbgExt DebugLocalVariable %color_name %v4float_info %dbg_src 7 16 %main_info FlagIsLocal 1
%vout_info = OpExtInst %void %DbgExt DebugLocalVariable %vout_name %VS_OUTPUT_info %dbg_src 8 3 %main_info FlagIsLocal

               OpLine %src 6 23
        %pos = OpVariable %_ptr_Input_v4float Input

; Declaration of "float4 pos : POSITION" argument of main()
%pos_decl = OpExtInst %void %DbgExt DebugDeclare %pos_info %pos %null_expr

               OpLine %src 7 23
      %color = OpVariable %_ptr_Input_v4float Input

; Declaration of "float4 color : COLOR" argument of main()
%color_decl = OpExtInst %void %DbgExt DebugDeclare %color_info %color %null_expr

               OpLine %src 2 16
%gl_Position = OpVariable %_ptr_Output_v4float Output
               OpLine %src 3 18
%out_var_COLOR = OpVariable %_ptr_Output_v4float Output
               OpLine %src 6 1
       %main = OpFunction %void None %16
         %20 = OpLabel

; Start the scope of function "main()"
%main_scope = OpExtInst %void %DbgExt DebugScope %main_info

               OpLine %src 8 13
       %vout = OpVariable %_ptr_Function_VS_OUTPUT Function

; Declaration of "VS_OUTPUT vout" local variable in main()
%vout_decl = OpExtInst %void %DbgExt DebugDeclare %vout_info %vout %null_expr

               OpLine %src 9 14
         %21 = OpLoad %v4float %pos
               OpLine %src 9 3
         %22 = OpAccessChain %_ptr_Function_v4float %vout %int_0

; Tracking value of "float4 pos : SV_POSITION" member of "vout"
%vout_pos_value = OpExtInst %void %DbgExt DebugValue %vout_info %22 %null_expr %int_0

               OpStore %22 %21
               OpLine %src 10 16
         %23 = OpLoad %v4float %color
               OpLine %src 10 3
         %24 = OpAccessChain %_ptr_Function_v4float %vout %int_1

; Tracking value of "float4 color : COLOR" member of "vout"
%vout_color_value = OpExtInst %void %DbgExt DebugValue %vout_info %24 %null_expr %int_1

               OpStore %24 %23
               OpLine %src 11 10
         %25 = OpLoad %VS_OUTPUT %vout
               OpLine %src 11 3
         %26 = OpCompositeExtract %v4float %25 0
               OpStore %gl_Position %26
         %27 = OpCompositeExtract %v4float %25 1
               OpStore %out_var_COLOR %27
               OpReturn

; End the scope of function "main()"
%main_scope_end = OpExtInst %void %DbgExt DebugNoScope

               OpFunctionEnd
