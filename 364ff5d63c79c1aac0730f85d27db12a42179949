{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "b88e1c9e_9ec0a1b7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5315
      },
      "writtenOn": "2023-03-16T14:13:17Z",
      "side": 1,
      "message": "We will have to update the BUILD.gn files for the new LLVM too. That\u0027s how Chrome builds SwiftShader.",
      "revId": "364ff5d63c79c1aac0730f85d27db12a42179949",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1e19c78a_c135cf6e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5315
      },
      "writtenOn": "2023-03-16T14:14:04Z",
      "side": 1,
      "message": "Unfortunately the \"swangle\" bots do not build the LLVM configuration though. I can explain how to test that in chat.",
      "revId": "364ff5d63c79c1aac0730f85d27db12a42179949",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1d2d2937_09d497b1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 101766
      },
      "writtenOn": "2023-03-16T15:27:44Z",
      "side": 1,
      "message": "I get an error when building on Linux:\n\n```\n/home/ben/src/SwiftShader/third_party/llvm-16.0/llvm/lib/Support/Unix/Process.inc:452:10: error: use of undeclared identifier \u0027arc4random\u0027\n  return arc4random();\n         ^\n1 error generated.\n```",
      "revId": "364ff5d63c79c1aac0730f85d27db12a42179949",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "899f8387_1f5f9787",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 101766
      },
      "writtenOn": "2023-03-16T15:33:30Z",
      "side": 1,
      "message": "I think you just need to change  `HAVE_DECL_ARC4RANDOM` to:\n\n```\n#define HAVE_DECL_ARC4RANDOM 0\n```\n\nIn `third_party/llvm-16.0/configs/linux/include/llvm/Config/config.h`",
      "parentUuid": "1d2d2937_09d497b1",
      "revId": "364ff5d63c79c1aac0730f85d27db12a42179949",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0f86bb76_0ee55bc3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5375
      },
      "writtenOn": "2023-03-16T15:54:46Z",
      "side": 1,
      "message": "Thanks for testing the patch locally!\n\nIf you got that error message, I assume you updated the main CMakeListst.txt to make it point to LLVM 16.0 instead of 10.0?\nIs that correct?\n\nI don\u0027t understand why you are seeing an error I am not seeing.\nMaybe you and I are using different compilers?\nAre you perhaps using `clang`? (on my workstation `gcc` is used).\n\n\u003e #define HAVE_DECL_ARC4RANDOM 0\nWill do!",
      "parentUuid": "899f8387_1f5f9787",
      "revId": "364ff5d63c79c1aac0730f85d27db12a42179949",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fd259bf3_6760e8e0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5375
      },
      "writtenOn": "2023-03-16T15:54:46Z",
      "side": 1,
      "message": "Yes. I plan on having `generate_build_files.py` generate Android.bp and BUILD.gn (see for example this experimental CL: https://swiftshader-review.googlesource.com/c/SwiftShader/+/71009/3/third_party/llvm-16.0/scripts/generate_build_files.py )",
      "parentUuid": "b88e1c9e_9ec0a1b7",
      "revId": "364ff5d63c79c1aac0730f85d27db12a42179949",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6319db48_6887c849",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5375
      },
      "writtenOn": "2023-03-16T15:54:46Z",
      "side": 1,
      "message": "Thank you. I will chat with you, either later today or tomorrow.",
      "parentUuid": "1e19c78a_c135cf6e",
      "revId": "364ff5d63c79c1aac0730f85d27db12a42179949",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "597a1af2_d9709555",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 101766
      },
      "writtenOn": "2023-03-16T16:27:06Z",
      "side": 1,
      "message": "The stuff in `config.h` is generated by the libraries that are found on the system that generates that file. You probably had a package that I don\u0027t.",
      "parentUuid": "0f86bb76_0ee55bc3",
      "revId": "364ff5d63c79c1aac0730f85d27db12a42179949",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0a4f73f1_7feee059",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 101766
      },
      "writtenOn": "2023-03-16T16:27:06Z",
      "side": 1,
      "message": "I\u0027m doing a local dEQP test run with this. I\u0027ll let you know what results I get.",
      "revId": "364ff5d63c79c1aac0730f85d27db12a42179949",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    }
  ]
}