{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "d441ef9e_82634806",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 5065
      },
      "writtenOn": "2022-03-24T12:53:02Z",
      "side": 1,
      "message": "This causes issues when rolling into Dawn, but I\u0027m not sure how to fix it (apart from reverting but it seems you want to go in this direction eventually anyway)\n\nERROR at //build/config/BUILDCONFIG.gn:497:5: Duplicate output file.\n    target(_target_type, _target_name) {\n    ^-----------------------------------\nTwo or more targets generate the same output:\n  spirv-as\n\nThis is can often be fixed by changing one of the target names, or by \nsetting an output_name on one of them.\n\nCollisions:\n  //third_party/swiftshader/third_party/SPIRV-Tools:spirv-as(//build/toolchain/mac:clang_x64)\n  //third_party/vulkan-deps/spirv-tools/src:spirv-as(//build/toolchain/mac:clang_x64)\n\nSee //build/config/BUILDCONFIG.gn:497:5: Collision.\n    target(_target_type, _target_name) {\n    ^-----------------------------------",
      "revId": "dde31454344c5b38a76ce78da45dee9dae2c84f3",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3efe994a_11b43a4f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 5050
      },
      "writtenOn": "2022-03-24T13:20:48Z",
      "side": 1,
      "message": "I think it makes sense to prefix our own copy with \"swiftshader_\". If that works for you, we can make that change.",
      "parentUuid": "d441ef9e_82634806",
      "revId": "dde31454344c5b38a76ce78da45dee9dae2c84f3",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "170abcc1_bb10d93b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 5065
      },
      "writtenOn": "2022-03-24T13:21:56Z",
      "side": 1,
      "message": "Yeah I think that would fix it. Thanks!",
      "parentUuid": "3efe994a_11b43a4f",
      "revId": "dde31454344c5b38a76ce78da45dee9dae2c84f3",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f0f583ac_0eb57ea6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 5005
      },
      "writtenOn": "2022-03-24T13:29:08Z",
      "side": 1,
      "message": "Sorry about that, looks like I didn\u0027t take some scenarios into account. I\u0027ve reopened b/158002593.",
      "parentUuid": "170abcc1_bb10d93b",
      "revId": "dde31454344c5b38a76ce78da45dee9dae2c84f3",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "be02e69f_6fc765bd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 5050
      },
      "writtenOn": "2022-03-24T13:36:46Z",
      "side": 1,
      "message": "hmmm... We don\u0027t really control the third_party library names, we may need to revert this.",
      "parentUuid": "f0f583ac_0eb57ea6",
      "revId": "dde31454344c5b38a76ce78da45dee9dae2c84f3",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "45683e2b_4fa3efbe",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 5005
      },
      "writtenOn": "2022-03-24T21:47:25Z",
      "side": 1,
      "message": "https://github.com/KhronosGroup/SPIRV-Tools/pull/4765 should fix this.",
      "parentUuid": "be02e69f_6fc765bd",
      "revId": "dde31454344c5b38a76ce78da45dee9dae2c84f3",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c9cf3689_91e69346",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 101377
      },
      "writtenOn": "2022-03-25T04:06:36Z",
      "side": 1,
      "message": "In this build size report, I see many more targets being build in Chromium. e.g. third_party/swiftshader/third_party/SPIRV-Tools/source/spirv_endian.cpp and third_party/vulkan-deps/spirv-tools/src/source/spirv_endian.cpp. Is there some duplication going on here? Can it be avoided?\n\n[1] https://commondatastorage.googleapis.com/chromium-browser-clang/chrome_includes_2022-03-24_220812.html",
      "revId": "dde31454344c5b38a76ce78da45dee9dae2c84f3",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "93fb2d90_db2e5c4c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 5005
      },
      "writtenOn": "2022-03-25T16:53:07Z",
      "side": 1,
      "message": "Hi Lei, thanks for the heads up! This change decouples SwiftShader\u0027s usage of SPIRV-Tools, from Chromium\u0027s, so some duplicate or near-duplicate source file builds are expected for the time being. Fortunately it should not result in any binary size increase, since SwiftShader (a DLL) previously linked in Chromium\u0027s build of SPIRV-Tools. Also, we can now move forward with plans to trim down SPIRV-Tools into parts useful for a graphics driver (SwiftShader), and parts useful for the application-side\u0027s usage of the graphics API (Chromium).\n\nAlso note we will soon stop building the \u0027legacy\u0027 SwiftShader DLL. While orthogonal to this change, it will reduce compile time and binary size.",
      "parentUuid": "c9cf3689_91e69346",
      "revId": "dde31454344c5b38a76ce78da45dee9dae2c84f3",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    }
  ]
}