{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "efa822f7_ba3553a6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5050
      },
      "writtenOn": "2022-02-23T18:05:08Z",
      "side": 1,
      "message": "Updated my local dEQP checkout to catch these (hopefully) last 2 cases.",
      "revId": "5ff6095535b02d0826b86e0d15d375ec3a209070",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1b8b4134_6a687b69",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5005
      },
      "writtenOn": "2022-02-24T17:19:41Z",
      "side": 1,
      "message": "Good to have a working fix, but I think that having two sets multiview-related failures indicates we may need a small refactoring to make this code clearer:",
      "revId": "5ff6095535b02d0826b86e0d15d375ec3a209070",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1524d989_93afbdad",
        "filename": "src/Vulkan/VkCommandBuffer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 139,
      "author": {
        "id": 5005
      },
      "writtenOn": "2022-02-24T17:19:41Z",
      "side": 1,
      "message": "This is getting quite confusing as it contradicts the comment at line 2440 (which is a different getViewMask(), but that\u0027s part of my point). Is this due to a semantic difference in the `viewMask` fields set by the application, and how we use internal variables with the same name? I suggest we use a different name then.\n\nDo we even have to treat multiview and non-multiview differently? There appear to be several conditionals to select between two similar methods. If we could consolidate e.g. `ImageView::clear()` and `clearWithLayerMask()` things could become more readable. Perhaps `layerMask` makes a good name for our internal version of `viewMask` which has bit 0 set to 1 when multiview is disabled?",
      "range": {
        "startLine": 139,
        "startChar": 3,
        "endLine": 139,
        "endChar": 35
      },
      "revId": "5ff6095535b02d0826b86e0d15d375ec3a209070",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5b1d9103_d3e2644a",
        "filename": "src/Vulkan/VkCommandBuffer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 139,
      "author": {
        "id": 5050
      },
      "writtenOn": "2022-02-24T19:30:29Z",
      "side": 1,
      "message": "FWIW, I don\u0027t think it contradicts the comment on line 2440. It says:\n\"Returns the view mask, or 1 if multiview is disabled\", which is true.\nIt doesn\u0027t say that returning 1 means that multiview is disabled. I understand the confusion, though, with this function potentially returning 0, but the function at line 2440 could not be used to determine whether or not multiview is enabled, since a value of 1 could mean both enabled or disabled.\nI\u0027ll look into refactoring this code to make it more centralized.",
      "parentUuid": "1524d989_93afbdad",
      "range": {
        "startLine": 139,
        "startChar": 3,
        "endLine": 139,
        "endChar": 35
      },
      "revId": "5ff6095535b02d0826b86e0d15d375ec3a209070",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5aa74961_6509e4c1",
        "filename": "src/Vulkan/VkCommandBuffer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 139,
      "author": {
        "id": 5050
      },
      "writtenOn": "2022-02-24T20:16:25Z",
      "side": 1,
      "message": "New version with small refactor. PTAL.",
      "parentUuid": "5b1d9103_d3e2644a",
      "range": {
        "startLine": 139,
        "startChar": 3,
        "endLine": 139,
        "endChar": 35
      },
      "revId": "5ff6095535b02d0826b86e0d15d375ec3a209070",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6ce383fe_3449fa71",
        "filename": "src/Vulkan/VkCommandBuffer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 139,
      "author": {
        "id": 5005
      },
      "writtenOn": "2022-02-25T14:58:53Z",
      "side": 1,
      "message": "\u003e I\u0027ll look into refactoring this code to make it more centralized.\n\nNice improvement, thanks!\n\n\u003e the function at line 2440 could not be used to determine whether or not multiview is enabled, since a value of 1 could mean both enabled or disabled.\n\nThat\u0027s my point, and I think there\u0027s still some straightforward room for improvement. There are two things called `viewMask` currently, and they have different semantics. So I think my suggestion of naming the one with our own semantics `layerMask` is still worth considering.\n\nLooks like Patchset 2 actually made more things use the Vulkan semantic of 0 meaning multiview disabled? Please check all instances of viewmask/layermask.",
      "parentUuid": "5aa74961_6509e4c1",
      "range": {
        "startLine": 139,
        "startChar": 3,
        "endLine": 139,
        "endChar": 35
      },
      "revId": "5ff6095535b02d0826b86e0d15d375ec3a209070",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2bcdfc2b_e0e7fa9e",
        "filename": "src/Vulkan/VkCommandBuffer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 139,
      "author": {
        "id": 5050
      },
      "writtenOn": "2022-02-25T15:48:37Z",
      "side": 1,
      "message": "Ok, makes sense. I made the distinction clear everywhere:\n- A view mask can have a value of 0, when multiview is disabled\n- A layer mask has a minimum value of 1, even when multiview is disabled\nThis should now be consistent across the code.",
      "parentUuid": "6ce383fe_3449fa71",
      "range": {
        "startLine": 139,
        "startChar": 3,
        "endLine": 139,
        "endChar": 35
      },
      "revId": "5ff6095535b02d0826b86e0d15d375ec3a209070",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0996a8da_09dc8edd",
        "filename": "src/Vulkan/VkCommandBuffer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 139,
      "author": {
        "id": 5005
      },
      "writtenOn": "2022-02-25T16:01:15Z",
      "side": 1,
      "message": "Thanks!",
      "parentUuid": "2bcdfc2b_e0e7fa9e",
      "range": {
        "startLine": 139,
        "startChar": 3,
        "endLine": 139,
        "endChar": 35
      },
      "revId": "5ff6095535b02d0826b86e0d15d375ec3a209070",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    }
  ]
}