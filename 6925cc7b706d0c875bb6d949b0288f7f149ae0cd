{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "5d1e1e43_8d9af2dc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5005
      },
      "writtenOn": "2021-10-08T20:37:22Z",
      "side": 1,
      "message": "Looks fine especially considering it\u0027s actually the Validation Layer\u0027s job to check all this and we generally avoid duplicating that effort, but in this case it\u0027s interesting that it appears to indicate a gap between what we\u0027ve supported/tested so far, and what\u0027s allowed by the spec. So let\u0027s take the opportunity to see where we can improve dEQP:",
      "revId": "6925cc7b706d0c875bb6d949b0288f7f149ae0cd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "54ff2ca5_0e0da1bd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5005
      },
      "writtenOn": "2021-10-21T19:44:21Z",
      "side": 1,
      "message": "As discussed at b/203803509, let\u0027s use this CL to check if there are any more dEQP coverage gaps or VVL issues, and then remove the asserts.",
      "revId": "6925cc7b706d0c875bb6d949b0288f7f149ae0cd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9af7dd02_dd9e698f",
        "filename": "src/Vulkan/VkImageView.cpp",
        "patchSetId": 1
      },
      "lineNbr": 141,
      "author": {
        "id": 5005
      },
      "writtenOn": "2021-10-08T20:37:22Z",
      "side": 1,
      "message": "\"Image type and image view type compatibility requirements\", currently.",
      "range": {
        "startLine": 141,
        "startChar": 23,
        "endLine": 141,
        "endChar": 80
      },
      "revId": "6925cc7b706d0c875bb6d949b0288f7f149ae0cd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c0042ab6_f004bbed",
        "filename": "src/Vulkan/VkImageView.cpp",
        "patchSetId": 1
      },
      "lineNbr": 141,
      "author": {
        "id": 5005
      },
      "writtenOn": "2021-10-08T20:37:22Z",
      "side": 1,
      "message": "Let\u0027s move this comment to right before the switch statement.",
      "range": {
        "startLine": 141,
        "startChar": 0,
        "endLine": 141,
        "endChar": 2
      },
      "revId": "6925cc7b706d0c875bb6d949b0288f7f149ae0cd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4e59ca71_ebd7012e",
        "filename": "src/Vulkan/VkImageView.cpp",
        "patchSetId": 1
      },
      "lineNbr": 141,
      "author": {
        "id": 5005
      },
      "writtenOn": "2021-10-08T20:37:22Z",
      "side": 1,
      "message": "Depends on the spec revision. Let\u0027s drop it.",
      "range": {
        "startLine": 141,
        "startChar": 14,
        "endLine": 141,
        "endChar": 22
      },
      "revId": "6925cc7b706d0c875bb6d949b0288f7f149ae0cd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a4c7a7e7_720f6fc3",
        "filename": "src/Vulkan/VkImageView.cpp",
        "patchSetId": 1
      },
      "lineNbr": 142,
      "author": {
        "id": 5005
      },
      "writtenOn": "2021-10-08T20:37:22Z",
      "side": 1,
      "message": "This checks both that the types are compatible (as listed in the spec\u0027s table), as well as the layer counts (which have requirements mentioned in VUID). So this name is too narrow or we should split this into two functions...",
      "range": {
        "startLine": 142,
        "startChar": 16,
        "endLine": 142,
        "endChar": 31
      },
      "revId": "6925cc7b706d0c875bb6d949b0288f7f149ae0cd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c2743323_3da1d5fd",
        "filename": "src/Vulkan/VkImageView.cpp",
        "patchSetId": 1
      },
      "lineNbr": 144,
      "author": {
        "id": 5005
      },
      "writtenOn": "2021-10-08T20:37:22Z",
      "side": 1,
      "message": "The `imageType` variable is taken from this-\u003eimage and then passed in as a parameter, while `imageArrayLayers` is obtained from it inside this method. I think it should either both be outside, both inside, or two functions that are both consistent about where the variable is obtained.",
      "range": {
        "startLine": 144,
        "startChar": 29,
        "endLine": 144,
        "endChar": 34
      },
      "revId": "6925cc7b706d0c875bb6d949b0288f7f149ae0cd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "af393a41_031cba09",
        "filename": "src/Vulkan/VkImageView.cpp",
        "patchSetId": 1
      },
      "lineNbr": 156,
      "author": {
        "id": 5005
      },
      "writtenOn": "2021-10-08T20:37:22Z",
      "side": 1,
      "message": "I\u0027m not sure this is still required. Could be a dEQP gap if \u003e 1 is valid?",
      "range": {
        "startLine": 156,
        "startChar": 11,
        "endLine": 156,
        "endChar": 34
      },
      "revId": "6925cc7b706d0c875bb6d949b0288f7f149ae0cd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "41e549a5_55fad66b",
        "filename": "src/Vulkan/VkImageView.cpp",
        "patchSetId": 1
      },
      "lineNbr": 157,
      "author": {
        "id": 5005
      },
      "writtenOn": "2021-10-08T20:37:22Z",
      "side": 1,
      "message": "According to VUID-VkImageViewCreateInfo-imageViewType-04973 layerCount should be 1 (like the VK_IMAGE_VIEW_TYPE_1D case).",
      "range": {
        "startLine": 157,
        "startChar": 30,
        "endLine": 157,
        "endChar": 57
      },
      "revId": "6925cc7b706d0c875bb6d949b0288f7f149ae0cd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9b43eac7_4ea05ef2",
        "filename": "src/Vulkan/VkImageView.cpp",
        "patchSetId": 1
      },
      "lineNbr": 157,
      "author": {
        "id": 5050
      },
      "writtenOn": "2021-10-08T20:55:37Z",
      "side": 1,
      "message": "Oh, then this is a test bug. Let me double check that.",
      "parentUuid": "41e549a5_55fad66b",
      "range": {
        "startLine": 157,
        "startChar": 30,
        "endLine": 157,
        "endChar": 57
      },
      "revId": "6925cc7b706d0c875bb6d949b0288f7f149ae0cd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "32024afd_d894c02f",
        "filename": "src/Vulkan/VkImageView.cpp",
        "patchSetId": 1
      },
      "lineNbr": 157,
      "author": {
        "id": 5050
      },
      "writtenOn": "2021-10-08T21:18:11Z",
      "side": 1,
      "message": "Logged:\nhttps://gitlab.khronos.org/Tracker/vk-gl-cts/-/issues/3200",
      "parentUuid": "9b43eac7_4ea05ef2",
      "range": {
        "startLine": 157,
        "startChar": 30,
        "endLine": 157,
        "endChar": 57
      },
      "revId": "6925cc7b706d0c875bb6d949b0288f7f149ae0cd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "656cbf7e_cedb9bdf",
        "filename": "src/Vulkan/VkImageView.cpp",
        "patchSetId": 1
      },
      "lineNbr": 161,
      "author": {
        "id": 5005
      },
      "writtenOn": "2021-10-08T20:37:22Z",
      "side": 1,
      "message": "Does this make any sense? Let\u0027s add comments with the VUID name where correct. If incorrect, it indicates a dEQP gap.",
      "range": {
        "startLine": 161,
        "startChar": 10,
        "endLine": 161,
        "endChar": 33
      },
      "revId": "6925cc7b706d0c875bb6d949b0288f7f149ae0cd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ca8961af_f77e1d06",
        "filename": "src/Vulkan/VkImageView.cpp",
        "patchSetId": 1
      },
      "lineNbr": 186,
      "author": {
        "id": 5005
      },
      "writtenOn": "2021-10-08T20:37:22Z",
      "side": 1,
      "message": "It\u0027s odd that this only appears to be called in the two clear() methods. Can we move it to the ImageView constructor?",
      "range": {
        "startLine": 185,
        "startChar": 1,
        "endLine": 186,
        "endChar": 49
      },
      "revId": "6925cc7b706d0c875bb6d949b0288f7f149ae0cd",
      "serverId": "aea13c4a-0b89-3eca-aee9-e193b1b77aa4"
    }
  ]
}